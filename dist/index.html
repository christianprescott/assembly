<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Assembly</title>
    <style>
      #container {
        height: 400px;
      }
    </style>
  </head>
  <body>
    <h1>Assembly</h1>
    <p>Put the pieces back together!</p>
    <h2>Controls</h2>
    <p>
      <table>
        <tr>
          <th></th>
          <th>Mouse</th>
          <th>Touch</th>
        </tr>
        <tr>
          <td>Move component</td>
          <td>left click + drag</td>
          <td>one finger drag</td>
        </tr>
        <tr>
          <td>Move component in/out</td>
          <td>shift + left click + drag</td>
          <td></td>
        </tr>
        <tr>
          <td>Rotate component</td>
          <td>ctrl + left click + drag</td>
          <td></td>
        </tr>
        <tr>
          <td>Rotate camera</td>
          <td>right click + drag</td>
          <td>two finger drag</td>
        </tr>
        <tr>
          <td>Zoom camera</td>
          <td>scroll</td>
          <td></td>
        </tr>
      </table>
    </p>
    <div>
      <button id="fs">Full Screen</button>
    </div>
    <div id="container"></div>
    <script src="assembly.js"></script>
    <script>
      const container = document.getElementById('container')
      const app = new assembly.App(container)
      app.start()

      // Load the scene
      const objRequest = new XMLHttpRequest()
      objRequest.open('GET', 'examples/bricks.obj')
      const configRequest = new XMLHttpRequest()
      configRequest.open('GET', 'examples/bricks.json')
      configRequest.responseType = 'json'
      configRequest.onload = function () {
        app.load(assembly.Assembly.load(objRequest.response, configRequest.response))
      }
      objRequest.onload = function () {
        configRequest.send()
      }
      objRequest.send()

      document.getElementById('fs').addEventListener(
        'click',
        function () { app.fullscreen() }
      )
    </script>
  </body>
</html>
